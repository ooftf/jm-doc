# 打开指定页面(测试阶段)

京麦客户端（PC版）在下一个版本（7.7.0）将支持打开插件指定页面，目前该功能还处于**测试阶段**。

## 接入流程

使用京麦打开插件指定页面，需要遵循京麦的插件打开协议。

### ISV 插件添加打开指定页面支持

在打开插件时，京麦客户端在插件的回调地址（老版本插件叫启动地址）上拼接一个 `pageId` 参数，ISV在其插件首页获取这个 `pageId` 参数，根据约定好的规则由插件开发者重定向到指定页面。如果 `pageId` 为空，则不做任何跳转。

回调地址参数拼接示例：`https://example.com/index.html?pageId=detail`。

每个 `pageId` 需要由京麦生成唯一匹配的 `protocolId`，供JSSDK接口调用方调用。

> `pageId` 生成唯一匹配的 `protocolId` 需要ISV发送邮件到 `fengyuan1@jd.com` 或者 `yangqi9@jd.com` ，在邮件只中写明插件名称，页面功能场景以及页面功能场景对应的pageId，由京麦进行生成匹配。

### JSSDK 接口调用“打开指定页面”功能

> 该接口的调用方一般是京东商家研发，ISV只需要关心其插件是否配置了可以跳转到指定页面的 `pageId` 以及有其对应的唯一标识 `protocolId`。

```javascript
JmJsBridgePC.openPlugin({
    pin: '',            // 登录用户pin
    serviceCode: '',    // 服务标识
    protocolId: ''      // 指定页面的标识
}, canRefresh)          // canRefresh为true，则刷新插件列表
```

打开插件指定页面示例：

```javascript
JmJsBridgePC.openPlugin({
    pin: 'test_pop_7191',
    serviceCode: 'FW_GOODS-549217',
    protocolId: '62db14ed537e406f8f704205cf34d92c'
}, false)
```
